{"version":3,"file":"App-CaOupafk.js","sources":["../../admin/src/pages/HomePage.jsx","../../admin/src/pages/App.jsx"],"sourcesContent":["import { Main, Link, Box, Button, CardBody, CardTitle, ContentLayout, Divider, Flex, Grid, GridItem, Stack, Typography } from '@strapi/design-system';\nimport { useIntl } from 'react-intl';\nimport { getTranslation } from '../utils/getTranslation';\nimport { PLUGIN_ID } from '../pluginId';\nimport { Book, Upload } from \"@strapi/icons\";\nimport { useState } from 'react';\n\nconst HomePage = () => {\n  const { formatMessage } = useIntl();\n  const [ file, setFile ] = useState(null);\n  const [uploading, setUploading] = useState(false);\n\n  const handleImport = async () => {\n    if (!file) return;\n\n    const formData = new FormData();\n    formData.append('file', file);\n\n    setUploading(true);\n    console.log({formData})\n    try {\n      const res = await fetch('/api/strapi-5-plugin-import/import-orders', {\n        method: 'POST',\n        body: formData,\n      });\n\n      const result = await res.json();\n      alert(result.message || 'Import selesai');\n    } catch (err) {\n      console.error('Error uploading file:', err);\n      alert('Gagal mengimport file.');\n    } finally {\n      setUploading(false);\n    }\n  };\n\n  return (\n    <Main paddingLeft={6} paddingRight={6} paddingTop={6} paddingBottom={6} style={{ height: \"100vh\", display: \"flex\", justifyContent: \"center\", alignItems: \"center\"}}>\n      <Flex direction=\"column\" justifyContent=\"center\" alignItems=\"center\">\n        <Typography variant=\"alpha\">Import Orders</Typography>\n        <Flex direction=\"column\" paddingTop={4} justifyContent=\"center\" alignItems=\"center\">\n          <Flex paddingBottom={4} justifyContent=\"center\" alignItems=\"center\">\n            <label style={{ width: '50%' }} htmlFor=\"import-file\">\n              <Typography variant=\"pi\" fontWeight=\"bold\">\n                Upload file (.csv)\n              </Typography>\n            </label>\n            <input\n              style={{ width: '50%' }}\n              id=\"import-file\"\n              type=\"file\"\n              accept=\".csv\"\n              onChange={(e) => setFile(e.target.files[0])}\n              \n            />\n          </Flex>\n\n          <Button\n            startIcon={<Upload />}\n            disabled={!file || uploading}\n            loading={uploading}\n            onClick={handleImport}\n            size=\"L\"\n          >\n            Import File\n          </Button>\n      </Flex>\n      </Flex>\n    </Main>\n  );\n};\n\nexport { HomePage };\n","import { Page } from '@strapi/strapi/admin';\nimport { Routes, Route } from 'react-router-dom';\n\nimport { HomePage } from './HomePage';\n\nconst App = () => {\n  return (\n    <Routes>\n      <Route index element={<HomePage />} />\n      <Route path=\"*\" element={<Page.Error />} />\n    </Routes>\n  );\n};\n\nexport { App };\n"],"names":["useIntl","useState","jsx","Main","jsxs","Flex","Typography","Button","Upload","Routes","Route","Page"],"mappings":";;;;;;;;;AAOA,MAAM,WAAW,MAAM;AACrB,QAAM,EAAE,cAAA,IAAkBA,kBAAA;AAC1B,QAAM,CAAE,MAAM,OAAQ,IAAIC,MAAAA,SAAS,IAAI;AACvC,QAAM,CAAC,WAAW,YAAY,IAAIA,MAAAA,SAAS,KAAK;AAEhD,QAAM,eAAe,YAAY;AAC/B,QAAI,CAAC,KAAM;AAEX,UAAM,WAAW,IAAI,SAAA;AACrB,aAAS,OAAO,QAAQ,IAAI;AAE5B,iBAAa,IAAI;AACjB,YAAQ,IAAI,EAAC,UAAS;AACtB,QAAI;AACF,YAAM,MAAM,MAAM,MAAM,6CAA6C;AAAA,QACnE,QAAQ;AAAA,QACR,MAAM;AAAA,MAAA,CACP;AAED,YAAM,SAAS,MAAM,IAAI,KAAA;AACzB,YAAM,OAAO,WAAW,gBAAgB;AAAA,IAC1C,SAAS,KAAK;AACZ,cAAQ,MAAM,yBAAyB,GAAG;AAC1C,YAAM,wBAAwB;AAAA,IAChC,UAAA;AACE,mBAAa,KAAK;AAAA,IACpB;AAAA,EACF;AAEA,SACEC,2BAAAA,IAACC,aAAAA,MAAA,EAAK,aAAa,GAAG,cAAc,GAAG,YAAY,GAAG,eAAe,GAAG,OAAO,EAAE,QAAQ,SAAS,SAAS,QAAQ,gBAAgB,UAAU,YAAY,SAAA,GACvJ,UAAAC,2BAAAA,KAACC,aAAAA,MAAA,EAAK,WAAU,UAAS,gBAAe,UAAS,YAAW,UAC1D,UAAA;AAAA,IAAAH,2BAAAA,IAACI,aAAAA,YAAA,EAAW,SAAQ,SAAQ,UAAA,iBAAa;AAAA,IACzCF,2BAAAA,KAACC,aAAAA,QAAK,WAAU,UAAS,YAAY,GAAG,gBAAe,UAAS,YAAW,UACzE,UAAA;AAAA,MAAAD,gCAACC,aAAAA,QAAK,eAAe,GAAG,gBAAe,UAAS,YAAW,UACzD,UAAA;AAAA,QAAAH,+BAAC,SAAA,EAAM,OAAO,EAAE,OAAO,SAAS,SAAQ,eACtC,UAAAA,2BAAAA,IAACI,2BAAW,SAAQ,MAAK,YAAW,QAAO,gCAE3C,GACF;AAAA,QACAJ,2BAAAA;AAAAA,UAAC;AAAA,UAAA;AAAA,YACC,OAAO,EAAE,OAAO,MAAA;AAAA,YAChB,IAAG;AAAA,YACH,MAAK;AAAA,YACL,QAAO;AAAA,YACP,UAAU,CAAC,MAAM,QAAQ,EAAE,OAAO,MAAM,CAAC,CAAC;AAAA,UAAA;AAAA,QAAA;AAAA,MAE5C,GACF;AAAA,MAEAA,2BAAAA;AAAAA,QAACK,aAAAA;AAAAA,QAAA;AAAA,UACC,0CAAYC,MAAAA,QAAA,EAAO;AAAA,UACnB,UAAU,CAAC,QAAQ;AAAA,UACnB,SAAS;AAAA,UACT,SAAS;AAAA,UACT,MAAK;AAAA,UACN,UAAA;AAAA,QAAA;AAAA,MAAA;AAAA,IAED,EAAA,CACJ;AAAA,EAAA,EAAA,CACA,EAAA,CACF;AAEJ;ACjEA,MAAM,MAAM,MAAM;AAChB,yCACGC,uBAAA,EACC,UAAA;AAAA,IAAAP,+BAACQ,eAAAA,SAAM,OAAK,MAAC,SAASR,+BAAC,YAAS,GAAI;AAAA,IACpCA,+BAACQ,eAAAA,SAAM,MAAK,KAAI,SAASR,2BAAAA,IAACS,MAAAA,KAAK,OAAL,CAAA,CAAW,EAAA,CAAI;AAAA,EAAA,GAC3C;AAEJ;;"}