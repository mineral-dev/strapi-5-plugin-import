{"version":3,"file":"index.js","sources":["../../admin/src/pluginId.js","../../admin/src/components/Initializer.jsx","../../admin/src/components/PluginIcon.jsx","../../admin/src/index.js"],"sourcesContent":["export const PLUGIN_ID = 'strapi-5-plugin-import';\n","import { useEffect, useRef } from 'react';\n\nimport { PLUGIN_ID } from '../pluginId';\n\n/**\n * @type {import('react').FC<{ setPlugin: (id: string) => void }>}\n */\nconst Initializer = ({ setPlugin }) => {\n  const ref = useRef(setPlugin);\n\n  useEffect(() => {\n    ref.current(PLUGIN_ID);\n  }, []);\n\n  return null;\n};\n\nexport { Initializer };\n","import { PuzzlePiece } from '@strapi/icons';\n\nconst PluginIcon = () => <PuzzlePiece />;\n\nexport { PluginIcon };\n","import { getTranslation } from './utils/getTranslation';\nimport { PLUGIN_ID } from './pluginId';\nimport { Initializer } from './components/Initializer';\nimport { PluginIcon } from './components/PluginIcon';\n\nexport default {\n  register(app) {\n    app.addMenuLink({\n      to: `plugins/${PLUGIN_ID}`,\n      icon: PluginIcon,\n      intlLabel: {\n        id: `${PLUGIN_ID}.plugin.name`,\n        defaultMessage: \"Import\",\n      },\n      Component: async () => {\n        const { App } = await import('./pages/App');\n\n        return App;\n      },\n    });\n\n    app.registerPlugin({\n      id: PLUGIN_ID,\n      initializer: Initializer,\n      isReady: false,\n      name: PLUGIN_ID,\n    });\n  },\n\n  async registerTrads({ locales }) {\n    return Promise.all(\n      locales.map(async (locale) => {\n        try {\n          const { default: data } = await import(`./translations/${locale}.json`);\n\n          return { data, locale };\n        } catch {\n          return { data: {}, locale };\n        }\n      })\n    );\n  },\n};\n"],"names":["useRef","useEffect","jsx","PuzzlePiece"],"mappings":";;;;;;;;;;;;;;;;;;;;AAAO,MAAM,YAAY;ACOzB,MAAM,cAAc,CAAC,EAAE,gBAAgB;AACrC,QAAM,MAAMA,MAAAA,OAAO,SAAS;AAE5BC,QAAAA,UAAU,MAAM;AACd,QAAI,QAAQ,SAAS;AAAA,EACvB,GAAG,CAAA,CAAE;AAEL,SAAO;AACT;ACbA,MAAM,aAAa,MAAMC,2BAAAA,IAACC,MAAAA,aAAA,EAAY;ACGtC,MAAA,QAAe;AAAA,EACb,SAAS,KAAK;AACZ,QAAI,YAAY;AAAA,MACd,IAAI,WAAW,SAAS;AAAA,MACxB,MAAM;AAAA,MACN,WAAW;AAAA,QACT,IAAI,GAAG,SAAS;AAAA,QAChB,gBAAgB;AAAA,MACxB;AAAA,MACM,WAAW,YAAY;AACrB,cAAM,EAAE,IAAG,IAAK,MAAM,QAAA,QAAA,EAAA,KAAA,MAAA,QAAO,4BAAa,CAAA;AAE1C,eAAO;AAAA,MACT;AAAA,IACN,CAAK;AAED,QAAI,eAAe;AAAA,MACjB,IAAI;AAAA,MACJ,aAAa;AAAA,MACb,SAAS;AAAA,MACT,MAAM;AAAA,IACZ,CAAK;AAAA,EACH;AAAA,EAEA,MAAM,cAAc,EAAE,WAAW;AAC/B,WAAO,QAAQ;AAAA,MACb,QAAQ,IAAI,OAAO,WAAW;AAC5B,YAAI;AACF,gBAAM,EAAE,SAAS,KAAI,IAAK,MAAM,qCAAA,uBAAA,OAAA,EAAA,0BAAA,MAAA,QAAA,QAAA,EAAA,KAAA,MAAA,QAAA,2BAAA,CAAA,EAAA,CAAA,GAAA,kBAAA,MAAA,SAAA,CAAA;AAEhC,iBAAO,EAAE,MAAM,OAAM;AAAA,QACvB,QAAQ;AACN,iBAAO,EAAE,MAAM,CAAA,GAAI,OAAM;AAAA,QAC3B;AAAA,MACF,CAAC;AAAA,IACP;AAAA,EACE;AACF;;"}